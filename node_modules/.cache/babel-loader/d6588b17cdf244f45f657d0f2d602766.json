{"ast":null,"code":"// fetch('https://strangers-things.herokuapp.com/api/COHORT-NAME/users/register', {\n//   method: \"POST\",\n//   headers: {\n//     'Content-Type': 'application/json'\n//   },\n//   body: JSON.stringify({\n//     user: {\n//       username: 'superman27',\n//       password: 'krypt0n0rbust'\n//     }\n//   })\n// }).then(response => response.json())\n//   .then(result => {\n//     console.log(result);\n//   })\n//   .catch(console.error);\nconst {\n  REACT_APP_BASE_URL = \"https://strangers-things.herokuapp.com/api/2111-CSU-RM-WEB-PT\"\n} = process.env;\n\nconst callApi = async _ref => {\n  let {\n    url,\n    method,\n    token,\n    body\n  } = _ref;\n\n  try {\n    const options = {\n      method: method ? method : 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    };\n\n    if (token) {\n      options.headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    const resp = await fetch(`${REACT_APP_BASE_URL} ${url}`, options);\n    const result = await resp.json();\n\n    if (result.error) {\n      throw result.error;\n    }\n\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n}; // callApi = ({url: \"/posts\", body: {post:{}}}) \n\n\nexport default callApi;","map":{"version":3,"sources":["/Users/seanbalog/Desktop/FULLSTACK/course_work/StrangerThings/src/util/index.js"],"names":["REACT_APP_BASE_URL","process","env","callApi","url","method","token","body","options","headers","JSON","stringify","resp","fetch","result","json","error","console","log"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAM;AAAEA,EAAAA,kBAAkB,GAAG;AAAvB,IAA2FC,OAAO,CAACC,GAAzG;;AAEA,MAAMC,OAAO,GAAG,cAAsC;AAAA,MAA/B;AAACC,IAAAA,GAAD;AAAMC,IAAAA,MAAN;AAAcC,IAAAA,KAAd;AAAqBC,IAAAA;AAArB,GAA+B;;AAClD,MAAI;AACA,UAAMC,OAAO,GAAG;AACZH,MAAAA,MAAM,EAAEA,MAAM,GAAEA,MAAF,GAAU,KADZ;AAEZI,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFG;AAKZF,MAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AALM,KAAhB;;AAQA,QAAID,KAAJ,EAAW;AACPE,MAAAA,OAAO,CAACC,OAAR,CAAgB,eAAhB,IAAoC,UAASH,KAAM,EAAnD;AACH;;AACD,UAAMM,IAAI,GAAG,MAAMC,KAAK,CAAE,GAAEb,kBAAmB,IAAGI,GAAI,EAA9B,EAAiCI,OAAjC,CAAxB;AACA,UAAMM,MAAM,GAAG,MAAMF,IAAI,CAACG,IAAL,EAArB;;AACA,QAAID,MAAM,CAACE,KAAX,EAAiB;AACb,YAAMF,MAAM,CAACE,KAAb;AACH;;AACD,WAAOF,MAAP;AACC,GAlBL,CAkBK,OAAME,KAAN,EAAa;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AAEJ,CAvBD,C,CAwBA;;;AAEA,eAAeb,OAAf","sourcesContent":["// fetch('https://strangers-things.herokuapp.com/api/COHORT-NAME/users/register', {\n//   method: \"POST\",\n//   headers: {\n//     'Content-Type': 'application/json'\n//   },\n//   body: JSON.stringify({\n//     user: {\n//       username: 'superman27',\n//       password: 'krypt0n0rbust'\n//     }\n//   })\n// }).then(response => response.json())\n//   .then(result => {\n//     console.log(result);\n//   })\n//   .catch(console.error);\n\nconst { REACT_APP_BASE_URL = \"https://strangers-things.herokuapp.com/api/2111-CSU-RM-WEB-PT\" } = process.env;\n\nconst callApi = async ({url, method, token, body}) => {\n    try {\n        const options = {\n            method: method? method: 'GET' ,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(body),\n        }\n\n        if (token) {\n            options.headers['Authorization'] = `Bearer ${token}`;\n        }\n        const resp = await fetch(`${REACT_APP_BASE_URL} ${url}`, options);\n        const result = await resp.json();\n        if (result.error){\n            throw(result.error)\n        }\n        return result;    \n        }catch(error) {\n        console.log(error);\n    }\n    \n};\n// callApi = ({url: \"/posts\", body: {post:{}}}) \n\nexport default callApi;"]},"metadata":{},"sourceType":"module"}