{"ast":null,"code":"const {\n  REACT_APP_BASE_URL = \"https://strangers-things.herokuapp.com/api/2111-CSU-RM-WEB-PT\"\n} = process.env;\n\nconst callApi = async _ref => {\n  let {\n    url,\n    method,\n    token,\n    body\n  } = _ref;\n  console.log({\n    url,\n    method,\n    token,\n    body\n  });\n\n  try {\n    const options = {\n      method: method ? method : 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    };\n\n    if (token) {\n      options.headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    console.log('options: ', options);\n    const resp = await fetch(REACT_APP_BASE_URL + url, options);\n    const result = await resp.json();\n\n    if (result.error) {\n      throw result.error;\n    }\n\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport default callApi;","map":{"version":3,"sources":["/Users/seanbalog/Desktop/FULLSTACK/course_work/StrangerThings/src/util/index.js"],"names":["REACT_APP_BASE_URL","process","env","callApi","url","method","token","body","console","log","options","headers","JSON","stringify","resp","fetch","result","json","error"],"mappings":"AAAA,MAAM;AAAEA,EAAAA,kBAAkB,GAAG;AAAvB,IAA2FC,OAAO,CAACC,GAAzG;;AAEA,MAAMC,OAAO,GAAG,cAAsC;AAAA,MAA/B;AAACC,IAAAA,GAAD;AAAMC,IAAAA,MAAN;AAAcC,IAAAA,KAAd;AAAqBC,IAAAA;AAArB,GAA+B;AACjDC,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACL,IAAAA,GAAD;AAAMC,IAAAA,MAAN;AAAcC,IAAAA,KAAd;AAAqBC,IAAAA;AAArB,GAAZ;;AACD,MAAI;AACA,UAAMG,OAAO,GAAG;AACZL,MAAAA,MAAM,EAAEA,MAAM,GAAEA,MAAF,GAAU,KADZ;AAEZM,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFG;AAKZJ,MAAAA,IAAI,EAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf;AALM,KAAhB;;AAQA,QAAID,KAAJ,EAAW;AACPI,MAAAA,OAAO,CAACC,OAAR,CAAgB,eAAhB,IAAoC,UAASL,KAAM,EAAnD;AACH;;AAELE,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBC,OAAzB;AACI,UAAMI,IAAI,GAAG,MAAMC,KAAK,CAACf,kBAAkB,GAAGI,GAAtB,EAA2BM,OAA3B,CAAxB;AACA,UAAMM,MAAM,GAAG,MAAMF,IAAI,CAACG,IAAL,EAArB;;AACA,QAAID,MAAM,CAACE,KAAX,EAAiB;AACb,YAAMF,MAAM,CAACE,KAAb;AACH;;AACD,WAAOF,MAAP;AACC,GApBL,CAoBK,OAAME,KAAN,EAAa;AACdV,IAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AACH;AAEJ,CA1BD;;AA4BA,eAAef,OAAf","sourcesContent":["const { REACT_APP_BASE_URL = \"https://strangers-things.herokuapp.com/api/2111-CSU-RM-WEB-PT\" } = process.env;\n\nconst callApi = async ({url, method, token, body}) => {\n     console.log({url, method, token, body})\n    try {\n        const options = {\n            method: method? method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body),\n        }\n\n        if (token) {\n            options.headers['Authorization'] = `Bearer ${token}`;\n        }\n\n    console.log('options: ', options);\n        const resp = await fetch(REACT_APP_BASE_URL + url, options);\n        const result = await resp.json();\n        if (result.error){\n            throw(result.error)\n        }\n        return result;    \n        }catch(error) {\n        console.log(error);\n    }\n    \n};\n\nexport default callApi;"]},"metadata":{},"sourceType":"module"}